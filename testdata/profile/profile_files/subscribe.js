var _=(e,t,r)=>new Promise((a,s)=>{var p=n=>{try{i(r.next(n))}catch(c){s(c)}},u=n=>{try{i(r.throw(n))}catch(c){s(c)}},i=n=>n.done?a(n.value):Promise.resolve(n.value).then(p,u);i((r=r.apply(e,t)).next())});var RYMsubscribePage={donationCurrency:null,selectedPlan:null,selectedMethod:"card",selectedQuantity:null,selectedRecipient:"self",products_test:{std_month_eur:"price_1Gw9iH2FyfpagPBXp6TlGyLv",std_month_usd:"price_1Gw9iG2FyfpagPBXEryQroQD",std_month_pln:"price_1Gw9iH2FyfpagPBXZzzhKCFl",std_year_eur:"price_1Gw9oN2FyfpagPBXrTizP9h2",std_year_usd:"price_1Gw9oM2FyfpagPBX6zoUnI0F",std_year_pln:"price_1Gw9oN2FyfpagPBXrTizP9h2",select_month_eur:"price_1Gw9qD2FyfpagPBXpDQUaiRR",select_month_usd:"price_1Gw9qD2FyfpagPBXHzWswS7Q",select_month_pln:"price_1Gw9qD2FyfpagPBXEI1Ee0Wq",select_year_eur:"price_1Gw9rA2FyfpagPBX93yQvENd",select_year_usd:"price_1Gw9rA2FyfpagPBXrWsDj3QV",select_year_pln:"price_1Gw9rB2FyfpagPBXGH7hKBlP",upgrade_eur:"price_1GxC7U2FyfpagPBXAivox588",upgrade_usd:"price_1GxBY72FyfpagPBXzaIZEKvN",upgrade_pln:"price_1GxC802FyfpagPBXRM8tMjOf"},products_prod:{std_month_eur:"price_1GxaYH2FyfpagPBXO5mKlJRC",std_month_usd:"price_1GxaYH2FyfpagPBXDMB5B04m",std_month_pln:"price_1GxaYH2FyfpagPBXh4BEOMuS",std_year_eur:"price_1GxaYB2FyfpagPBXWCvNIHoC",std_year_usd:"price_1GxaYB2FyfpagPBXsBWKjrZL",std_year_pln:"price_1GxaYB2FyfpagPBXploM9Hlb",select_month_eur:"price_1GxaY42FyfpagPBXvUM8D6DY",select_month_usd:"price_1GxaY32FyfpagPBXlMXrNxEw",select_month_pln:"price_1GxaY42FyfpagPBXD0ge1G0O",select_year_eur:"price_1GxaXv2FyfpagPBXh28KYobK",select_year_usd:"price_1GxaXv2FyfpagPBXJ8ewmu7e",select_year_pln:"price_1GxaXv2FyfpagPBXpSQBsBj0",upgrade_eur:"price_1GxaXq2FyfpagPBXgwroDGoV",upgrade_usd:"price_1GxaXq2FyfpagPBX7Sr9RH8I",upgrade_pln:"price_1GxaXq2FyfpagPBXxzqIeRff",contribution_usd:"price_1Ij7L42FyfpagPBXIu2ZB1Fz",contribution_eur:"price_1Ij7LF2FyfpagPBXtpkeZZb4"},donateChangeCurrency:function(e){$(".page_subscribe_donate_currency_item").removeClass("selected"),$("#page_subscribe_donate_currency_item_"+e).addClass("selected");var t=$("#page_subscribe_donate_currency_label");e==="usd"?t.text("$"):t.text("\u20AC"),RYMsubscribePage.donationCurrency=e},openDonation:function(e){return _(this,null,function*(){rym.doModal(yield renderTemplate("page.subscribe.donate",{default_currency:e}))})},onClickDonate:function(e){var t=parseInt($("#page_subscribe_donate_amount").val());if(t<5){alert("Amount must be at least 5");return}if(!$("#page_subscribe_donate_understand").is(":checked")){alert("Please check the checkbox to confirm you understand this is a donation, not a subscription.");return}RYMsubscribePage.submitDonation(t,RYMsubscribePage.donationCurrency,e)},submitDonation:function(e,t,r){rym.request.post("SubscribeRedirectDonationCheckout",{amount:e,currency:t,method:r},null,"script")},_planIsRecurring:function(e){var t=["std_month_eur","std_month_usd","std_month_pln","select_month_eur","select_month_usd","select_month_pln"];return t.indexOf(e)!=-1},init:function(e,t,r,a){},getValidPlans:function(e,t){},setRecipient:function(e){if(e=="gift"&&RYMsubscribePage._planIsRecurring(RYMsubscribePage.selectedPlan)){alert("Please select a yearly plan if you would like to buy a gift subscription.");return}$("#page_subscriber_payment").removeClass("recipient_self recipient_gift").addClass("recipient_chosen recipient_"+e),RYMsubscribePage.selectedRecipient=e},setCurrency:function(e){$("#page_subscriber_payment")[0].className="recipient_chosen recipient_"+RYMsubscribePage.selectedRecipient+" page_subscriber_payment currency_chosen currency_"+e+" method_card  method_chosen",RYMsubscribePage.selectedMethod="card",RYMsubscribePage.setPlan(null)},setMethod:function(e,t){$("#page_subscriber_payment")[0].className="recipient_chosen recipient_"+RYMsubscribePage.selectedRecipient+" page_subscriber_payment currency_chosen currency_"+e+" method_"+t+" method_chosen",RYMsubscribePage.selectedMethod=t,RYMsubscribePage.setPlan(null)},setPlan:function(e,t){RYMsubscribePage.selectedRecipient==="gift"&&RYMsubscribePage._planIsRecurring(e)&&alert("You cannot select a monthly plan when buying a gift subscription").return,$(".pricing_option").removeClass("selected"),$("#page_subscriber_payment_plan_"+e).addClass("selected"),typeof e!="undefined"&&e&&$("#page_subscriber_payment").addClass("plan_chosen"),RYMsubscribePage.selectedPlan=e,RYMsubscribePage.selectedQuantity=t},completePayment:function(){RYMsubscribePage.selectedPlan?rym.request.post("SubscribeRedirectCheckout",{plan:RYMsubscribePage.selectedPlan,quantity:RYMsubscribePage.selectedQuantity,method:RYMsubscribePage.selectedMethod,recipient:RYMsubscribePage.selectedRecipient,recipient_username:$("#page_subscriber_payment_section_btn_recipient_gift_username").val()},null,"script"):alert("Please select a plan first.")},redirectCheckoutPayPal:function(e){var t=["cmd","business","item_name","price","currency","return"];for(var r in t)$("#paypal_"+t[r]).val(e[t[r]]);$("#paypal_submit").click()},redirectCheckoutStripe:function(e){var t;window.subscribeTestMode?t=Stripe("pk_test_I5Z8MwDvf7FS1nSrwq6Pg9kf"):t=Stripe("pk_live_xetANjGm57GeSish7WpJtn4Y"),t.redirectToCheckout({sessionId:e})},cancel:function(e){confirm("Are you sure you want to cancel this subscription? You will not be billed again, and your subscription will continue until the end of the billing period.")&&rym.request.post("SubscribeCancelRecurringStripeSubscription",{subscription_id:e},null,"script")}};
